<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ada's Portfolio</title>
        <link rel="stylesheet" href="styles.css">
     </head>
     <body>
        <div class="bg-image"></div>
        <div class="popup">
            <h1>Ada's Portfolio</h1>
            <button onclick="startPortfolio()">Begin</button>
        </div>
        <script>
            function startPortfolio() {
                const popup = document.querySelector('.popup');
                const bg = document.querySelector('.bg-image');
                bg.style.backgroundImage = "url('assets/desktop/background.png')";
                bg.style.opacity = "1";
                // fade out popup
                popup.style.opacity = "0";
                popup.style.transform= "scale(0.9)";
                popup.style.transition = "0.4s";
                setTimeout(() => popup.remove(), 400);
                setTimeout(() => {
                    desktop.style.opacity = "1";
                    desktop.style.pointerEvents = "auto";
                }, 500);
            }
        </script>
        <div class="desktop" id="desktop">
            <div class="icon">
                <img src="assets\desktop\Spotify Logo.jpg" alt="App 1">
                <p>Music</p>
            </div>
            <div class="icon">
                <img src="assets\desktop\News.jpg" alt="App 1">
                <p>News</p>
            </div>
            <div class="icon photo-icon">
                <img src="assets\desktop\File.png" alt="App 1">
                <p>Photos</p>
            </div>
            <div class="icon fitness-icon">
                <img src="assets\desktop\Fitness.jpg" alt="App 1">
                <p>Sports</p>
            </div>
            <div class="icon email-icon">
                <img src="assets\desktop\Gmail.jpg" alt="App 1">
                <p>Email</p>
            </div>
            <div class="icon">
                <img src="assets\desktop\VScode.png" alt="App 1">
                <p>Code</p>
            </div>
        </div>
        <div class="icon-overlay" id="emailWindow">
                <div class="email-popup app-popup">
                    <div class="email-header">
                        <span>New Message</span>
                        <button class="close-button" onclick="closeEmail(event)">✖</button>
                    </div>
                    <div class="email-row">
                        <span class="email-label">To:</span>
                        <input type="text" value="adajiang2020@gmail.com" disabled />
                    </div>
                    <div class="email-row">
                        <span class="email-label">Subject:</span>
                        <input type="text" placeholder="" disabled />
                    </div>
                    <div class="email-body" disabled>
                        You can contact me at adajiang2020@gmail.com or message me at +1 (860)-759-6572.
                    </div>
                </div>
            </div>
            <div class="icon-overlay" id="photoWindow">
                <div class="photo-popup app-popup">
                    <div class="photo-header">
                        <span>Photos</span>
                        <button class="close-button" onclick="closePhoto(event)">✖</button>
                    </div>
                    <div class="photo-grid">
                        <div class="photo-folder"  data-folder="family">
                            <img src="assets/photos/folder.png">
                            <p>Family</p>
                        </div>
                        <div class="photo-folder" data-folder="debate">
                            <img src="assets/photos/folder.png">
                            <p>Debate</p>
                        </div>
                        <div class="photo-folder" data-folder="hobbies">
                            <img src="assets/photos/folder.png">
                            <p>Hobbies</p>
                        </div>
                        <div class="photo-folder" data-folder="travel">
                            <img src="assets/photos/folder.png">
                            <p>Travel</p>
                        </div>
                    </div>
                    <div class="photo-preview-overlay" id="photoPreview">
                        <div class="photo-preview">
                            <div class="preview-image-wrapper">
                                <img class="preview-image" src="" alt="Preview">
                                <div class="photo-nav">
                                    <button class="photo-nav-btn prev"><</button>
                                    <button class="photo-nav-btn next">></button>
                                </div>
                            </div>
                            <div class="preview-letter">
                                <p class="preview-text"></p>
                                <button class="preview-close">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="icon-overlay" id="fitnessWindow">
                <div class="fitness-popup app-popup">
                    <div class="fitness-header">
                        <span>Fitness</span>
                        <button class="close-button" onclick="closeFitness(event)">✖</button>
                    </div>
                    <div class="fitness-list">
                        <div class="fitness-row">
                            <div class='fitness-row-header'>
                                <img src="assets\fitness\climbing_icon.png" class="fitness-row-icon">
                                <span class="fitness-title">Rock Climbing</span>
                            </div>
                            <div class="fitness-expand">
                                <div class="fitness-text">ROCK CLIMBING TEXT HERE</div>
                                <img src="assets\fitness\climbing_photo.jpg" class="fitness-photo">
                            </div>
                        </div>
                        <div class="fitness-row">
                            <div class='fitness-row-header'>
                                <img src="assets\fitness\sailing_icon.png" class="fitness-row-icon">
                                <span class="fitness-title">Sailing</span>
                            </div>
                            <div class="fitness-expand">
                                <div class="fitness-text">SAILING TEXT HERE</div>
                                <img src="assets\fitness\sailing_photo.jpg" class="fitness-photo">
                            </div>
                        </div>
                        <div class="fitness-row">
                            <div class='fitness-row-header'>
                                <img src="assets\fitness\hiking_icon.png" class="fitness-row-icon">
                                <span class="fitness-title">Hiking</span>
                            </div>
                            <div class="fitness-expand">
                                <div class="fitness-text">HIKING TEXT HERE</div>
                                <img src="assets\fitness\hiking_photo.jpg" class="fitness-photo">
                            </div>
                        </div>
                        <div class="fitness-row">
                            <div class='fitness-row-header'>
                                <img src="assets\fitness\badminton_icon.png" class="fitness-row-icon">
                                <span class="fitness-title">Badminton</span>
                            </div>
                            <div class="fitness-expand">
                                <div class="fitness-text">BADMINTON TEXT HERE</div>
                                <img src="assets\fitness\badminton_photo.jpg" class="fitness-photo">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                let currentZIndex = 100;
                document.querySelector('.fitness-icon').addEventListener('click', () => {
                    const popup = document.getElementById('fitnessWindow');
                    popup.style.display = 'flex';
                    currentZIndex++;
                    popup.style.zIndex = currentZIndex;
                });
                function closeFitness(e) {
                    e.stopPropagation();
                    document.getElementById('fitnessWindow').style.display = 'none';
                }
                document.querySelector('.email-icon').addEventListener('click', () => {
                    const popup = document.getElementById('emailWindow');
                    popup.style.display = 'flex';
                    currentZIndex++;
                    popup.style.zIndex = currentZIndex;
                });

                document.querySelector('.photo-icon').addEventListener('click', () => {
                    const popup = document.getElementById('photoWindow');
                    popup.style.display = 'flex';
                    currentZIndex++;
                    popup.style.zIndex = currentZIndex;
                });

                document.querySelectorAll('.app-popup').forEach(popup => {
                    let isDragging = false;
                    let offsetX, offsetY;
                    const header = popup.querySelector('div:first-child');
                    header.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        const rect = popup.getBoundingClientRect();
                        offsetX = e.clientX - rect.left;
                        offsetY = e.clientY - rect.top;
                        const overlay = popup.parentElement;
                        currentZIndex++;
                        overlay.style.zIndex = currentZIndex;
                    });

                    document.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        popup.style.position = 'fixed';
                        popup.style.left = e.clientX - offsetX + 'px';
                        popup.style.top = e.clientY - offsetY + 'px';
                    });

                    document.addEventListener('mouseup', () => {
                        isDragging = false;
                    });

                    popup.addEventListener('mousedown', () => {
                        const overlay = popup.parentElement;
                        currentZIndex++;
                        overlay.style.zIndex = currentZIndex;
                    });
                });
                function closeEmail(e) {
                    e.stopPropagation(e);
                    document.getElementById('emailWindow').style.display = 'none';
                }

                function closePhoto(e) {
                    e.stopPropagation(e);
                    document.getElementById('photoWindow').style.display = 'none';
                    document.getElementById('photoPreview').style.display = 'none';
                }
                const previewOverlay = document.getElementById('photoPreview');
                const previewImage = document.querySelector('.preview-image');
                const previewText = document.querySelector('.preview-text');
                const previewClose = document.querySelector('.preview-close');
                const folderData = {
                    family: {
                        images: ['assets/photos/family1.jpg.jpg', 'assets/photos/family2.jpg', 'assets/photos/family3.jpg'],
                        text: 'Me and My Dad'
                    },
                    debate: {
                        images: ['assets/photos/debate1.jpg', 'assets/photos/debate2.jpg', 'assets/photos/debate3.jpg'],
                        text: 'St. Nicks Speech and Debate 12/13/2025'
                    },
                    hobbies: {
                        images: ['assets/photos/hobbies1.jpg', 'assets/photos/hobbies2.jpg', 'assets/photos/hobbies3.jpg'],
                        text: 'I love eating good food'
                    },
                    travel: {
                        images: ['assets/photos/travel1.jpg', 'assets/photos/travel2.jpg', 'assets/photos/travel3.jpg'],
                        text: 'My Japan Trip April 2025'
                    }
                };
                let currentPhotos = [];
                let currentIndex = 0;
                document.querySelectorAll('.photo-folder').forEach(folder => {
                    folder.addEventListener("click", () => {
                        const key = folder.dataset.folder;
                        const data = folderData[key];
                        currentPhotos = data.images;
                        currentIndex = 0;

                        previewImage.src = currentPhotos[currentIndex];
                        previewText.textContent = data.text;
                        previewOverlay.style.display = 'flex';
                    });
                });

                document.querySelector('.photo-nav-btn.next').addEventListener('click', () => {
                    if (!currentPhotos.length) return;
                    currentIndex = (currentIndex + 1) % currentPhotos.length;
                    previewImage.src = currentPhotos[currentIndex];
                });

                document.querySelector('.photo-nav-btn.prev').addEventListener('click', () => {
                    if (!currentPhotos.length) return;
                    currentIndex = (currentIndex - 1 + currentPhotos.length) % currentPhotos.length;
                    previewImage.src = currentPhotos[currentIndex];
                });
                
                previewClose.addEventListener('click', () => {
                    previewOverlay.style.display = 'none';
                });

            </script>
     </body>
</html>